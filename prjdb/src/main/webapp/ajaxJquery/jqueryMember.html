<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>jqueryMember.html</title>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
</head>
<body>
<div>
	<ul id="list"></ul>
	<!-- <li>user1, Hong<button>삭제</button></li> -->
</div>
<script>
		const member = [
			{id:'user1', name:'Hong'},
			{id:'user2', name:'Park'},
			{id:'user3', name:'Hwang'},
		]

		//code
	

			// function memberList(member){
			// for(let prop in member){
			// 	let id = member[prop].id;
			// 	let name = member[prop].name;
			// 	$('ul#list').append($('<li/>').text(id+", "+name));
			// }
			// }
			
			// memberList(member);
		$('#list').html('');
		member.forEach(member=>{
			$('#list').append(
				$('<li />').text(`${member.id}, ${member.name} `)
				.append($('<button>삭제</button>'))
				.append($('<button>복제</button>'))
		 );
			
		});
		$('#list').on('click','button:contains(삭제)', function(e){ //#list 하위요소 모든 삭제버튼에 이벤트가 걸림(이벤트 위임)
			//console.log(e.currentTarget);
			$(e.currentTarget).parent().remove(); //button의 부모요소인 li를 지우겠다
		})

		$('#list').on('click','button:contains(복제)',function(e){ //#list 하위요소 모든 복제버튼에 이벤트가 걸림(이벤트 위임)
			let cloned = $(e.currentTarget).parent().clone(); //li에 복제요소 넣음
			$(e.currentTarget).parent().after(cloned); //그걸 li뒤에달겠다 
		})

		// $('button:contains(삭제)').on('click', function(e){ //삭제버튼에만 event건다
		// 	console.log(e.currentTarget);
		// 	$(e.currentTarget).parent().remove(); //button의 부모요소인 li를 지우겠다
		// })

		// $('button:contains(복제)').on('click', function(e){ //삭제버튼에만 event건다
		// 	let cloned = $(e.currentTarget).parent().clone();
		// 	$(e.currentTarget).parent().after(cloned);
		// })
		
		
</script>
</body>
</html>